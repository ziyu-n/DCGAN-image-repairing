# DCGAN-image-repairing
DCGAN网络实现的环境配置与图像生成的模型构建。
（一）环境配置
1.本地环境配置
(1)Anaconda的下载与安装：百度搜索Anaconda找到官网，运行安装包即可。（注意：在运行Anaconda安装程序最后行要勾选添加环境变量和设置默认python版本注意tensorflow不支持python3.7以上的版本，建议使用3.5-3.6这里使用的是3.6.10）
(1) 配置虚拟环境并安装TensorFlow
(2) conda create -n gpu_env tensorflow-gpu（自动安装最新版tf和相关依赖）
(3)在cmd中激活环境：conda activate gpu_env
(4) 安装cuda：去NVIDIA官网下载运行GPU所需的CUDA，根据自己的操作系统和显卡型号选择合适的CUDA版本


(四)深度卷积对抗网络的图像生成训练步骤
1.处理图片数据集：
a)将图片格式按以脸为中心统一，切割减少无关特征（服饰等），减少计算量，提到提取效果。
b)对图片进行规范化，使图片数据集的各像素点的值在[-1,1]，减少计算量
c)进行随机打乱，并分多个batch，以patch为单位训练，batch的大小不影响结果但是影响训练速度。
2.构建生成器：
a)输入为（64，64，3）的破损图像，输出为（64，64，3）的修复图像
b)确定转置卷积层的层数以及每一层卷积核大小。
c)确定转置卷积后采用统一规范化和激活函数选择。
3.构建判别器：
a)输入为（64，64，3）的破损图像，输出为一个数字的真图像概率
b)确定卷积层的层数以及每一层卷积核大小。
c)确定卷积后采用统一规范化和激活函数选择
4.构造优化器，确定优化参数
a)确定Adam优化器的学习率(learning_rate)以及梯度加总的衰减率（beta1）
b)使用交叉熵代价函数构造如表3.1的代价函数。
5.运用测试集或者选定的样本集运行模型，测试生成的假图片。
根据假图片生成情况，对模型进行优化，参数调整等操作，直至生成的假图片的效果达到预期。

使用Celeba数据集
